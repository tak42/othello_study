(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(n,t,r){"use strict";r.r(t);var e=r(5785),i=r(9008),o=r(7294),c=r(8804),u=r(5893);function a(n,t){var r="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"===typeof n)return l(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(n,t)}(n))||t&&n&&"number"===typeof n.length){r&&(n=r);var e=0,i=function(){};return{s:i,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return c=n.done,n},e:function(n){u=!0,o=n},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw o}}}}function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var f=c.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;min-height:100vh;padding:0 0.5rem;background-color:green;"]),s=c.ZP.main.withConfig({displayName:"pages__Main",componentId:"sc-eccczk-1"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;padding:5rem 0;"]),p=c.ZP.div.withConfig({displayName:"pages__Grid",componentId:"sc-eccczk-2"})(["display:flex;flex-wrap:wrap;align-items:center;justify-content:center;max-width:800px;margin-top:3rem;@media (max-width:600px){flex-direction:column;width:100%;}"]),d=c.ZP.div.withConfig({displayName:"pages__Block",componentId:"sc-eccczk-3"})(["width:100px;height:100px;background-color:",";border:1px solid white;"],(function(n){return 1===n.val?"yellow":"green"})),h=c.ZP.div.withConfig({displayName:"pages__Stone",componentId:"sc-eccczk-4"})(["height:60px;margin:1rem;background-color:",";border-radius:50%;"],(function(n){return 1===n.val?"black":"white"}));t.default=function(){var n=(0,o.useState)({row:8,col:8,passCnt:0}),t=n[0],r=n[1],c=(0,o.useState)(1),l=c[0],m=c[1],v=(0,o.useMemo)((function(){return 1===l?2:1}),[l]),g=[-1,0,1].flatMap((function(n,t,r){return r.map((function(t){return[n,t]}))})).filter((function(n){return 0!==n[0]||0!==n[1]})),y=function(){var n=(0,e.Z)(Array(t.row)).map((function(){return(0,e.Z)(Array(t.col)).map((function(){return 0}))}));return n[3][3]=1,n[3][4]=2,n[4][3]=2,n[4][4]=1,n},w=(0,o.useState)(y),x=w[0],b=w[1],_=(0,o.useMemo)((function(){return{whiteCount:x.flat().filter((function(n){return 2===n})).length,blackCount:x.flat().filter((function(n){return 1===n})).length}}),[x]),k=_.whiteCount,C=_.blackCount,j=function(n,t){return t.sort(),n>=t[0]&&n<=t[1]},N=(0,o.useMemo)((function(){return x.flat().map((function(n,r){return[Math.floor(r/t.row),r%t.col]}))}),[x,t]),A=function(n){return g.flatMap((function(t){return(0,e.Z)(Array(8)).map((function(r,e){var i=n[0]+t[0]*(e+1),o=n[1]+t[1]*(e+1);return{dir:t,cell:[i,o]}}))})).filter((function(n){return n.cell[0]>-1&&n.cell[0]<8&&n.cell[1]>-1&&n.cell[1]<8}))},S=(0,o.useMemo)((function(){var n=N,r=n.filter((function(n){return 0===x[n[0]][n[1]]})),i=n.filter((function(n){return x[n[0]][n[1]]===l})),o=n.filter((function(n){return x[n[0]][n[1]]===v})),c=r.filter((function(n){var t=n;return o.map((function(n){var r=n,e=r[0]-t[0],i=r[1]-t[1];return!!g.find((function(n){return n[0]===e&&n[1]===i}))})).includes(!0)})).filter((function(n){var t=n;return i.map((function(n){var r=n,e=function(n,t){var r=A(n).find((function(n){return n.cell[0]===t[0]&&n.cell[1]===t[1]}));return void 0!==r?A(n).filter((function(n){return n.dir===r.dir})):[]}(t,r).map((function(n){return n.cell})).filter((function(n){return j(n[0],[t[0],r[0]])&&j(n[1],[t[1],r[1]])}));e.pop();var i=e.every((function(n){return x[n[0]][n[1]]===v}));return e.length>0&&i})).includes(!0)}));return(0,e.Z)(Array(t.row)).map((function(n,r){return(0,e.Z)(Array(t.col)).map((function(n,t){return c.find((function(n){return n[0]===r&&n[1]===t}))?1:0}))}))}),[x,l,v]),M=(0,o.useMemo)((function(){return!S.flat(2).includes(1)}),[S]),Z=function(){b(y)},E=function(n,e){var i,o=JSON.parse(JSON.stringify(x)),c=[],u=a(g);try{for(u.s();!(i=u.n()).done;){for(var f=i.value,s=1;s<8;s++){var p=n+f[0]*s,d=e+f[1]*s;if(p<0||d<0||p>7||d>7)break;if(o[p][d]!==v){if(o[p][d]===l){c.push([p,d]);break}break}c.push([p,d])}if(c.length>1){var h=c[c.length-1];if(o[h[0]][h[1]]===l){c.splice(c.length-1,0);var y,w=a(c);try{for(w.s();!(y=w.n()).done;){var _=y.value;o[_[0]][_[1]]=l}}catch(k){w.e(k)}finally{w.f()}o[n][e]=l}}c.splice(0,c.length)}}catch(k){u.e(k)}finally{u.f()}o[n][e]===l&&(b(o),m(v),r(t))};return(0,o.useEffect)((function(){var n=t.passCnt,e=M?n+1:0;console.log(e),t.passCnt=e,M&&k+C<64&&(alert("\u6253\u3066\u308b\u3068\u3053\u308d\u304c\u306a\u3044\u305f\u3081\u30d1\u30b9\u3057\u307e\u3059\u3002"),m(v)),e>1&&(alert("\u30d1\u30b9\u304c\uff12\u56de\u7d9a\u3044\u305f\u306e\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002"),k>C?alert("\u767d\u306e\u52dd\u3061\u3067\u3059\u3002"):alert("\u9ed2\u306e\u52dd\u3061\u3067\u3059\u3002"),Z()),r(t)}),[M,t.passCnt,l,v]),(0,o.useEffect)((function(){k+C===64&&(k>C?alert("\u767d\u306e\u52dd\u3061\u3067\u3059\u3002"):alert("\u9ed2\u306e\u52dd\u3061\u3067\u3059\u3002"),Z())}),[k,C]),(0,u.jsxs)(f,{children:[(0,u.jsxs)(i.default,{children:[(0,u.jsx)("title",{children:"Create Next App"}),(0,u.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,u.jsxs)(s,{children:[(0,u.jsx)("h1",{children:1===l?"\u9ed2\u306e\u756a\u3067\u3059\u3002":"\u767d\u306e\u756a\u3067\u3059\u3002"}),(0,u.jsx)(p,{children:x.map((function(n,t){return n.map((function(n,r){return(0,u.jsx)(d,{onClick:function(){return E(t,r)},val:S[t][r],children:n>0&&(0,u.jsx)(h,{val:n})},"".concat(t,"-").concat(r))}))}))})]})]})}},5301:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2562)}])}},function(n){n.O(0,[549,774,888,179],(function(){return t=5301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);